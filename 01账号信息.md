```bash
huangfei96
```

```bash
Treat the simulator like the real exam: come prepared
You get two sessions in the same simulator, both have the same questions
Try to solve as many questions by yourself as fast as possible before checking our solutions for the best learning effect
The solutions and score will be available once the session countdown reaches 0 or if you stop it before
Our simulators are harder than the real exam, more here.
```

# Activate CKA Simulator Session



![img](https://killer.sh/img/k8s_cka_logo_s.cf2daeb3.png)

##### Activation

Once you activate this session it'll take a few minutes to create your environment.

##### Access for the next 36hrs

You'll have access to your environment **during the next following 36hrs**, starting the moment your environment is ready. This window is time based and not usage based. You'll always have access to the questions and solutions.

##### Browser reload

For the 36hrs your session will be kept running in the background. You can close the window or even use a different browser without losing changes.

##### Solutions

When the countdown reaches 0 (or when you stop it earlier) you'll be able to see the proposed solutions for each question. Try to solve as many questions by yourself as fast as possible for the best learning effect.

##### Content

All simulator sessions of the same type (CKS|CKA|CKAD|LFCT|LFCS) will have identical content/scenarios.

##### Restart

While in the 36hrs access window you can restart the environment as often as you like. This might be necessary in the CKS|CKA where you can mess things up properly.

##### Support

[Slack](https://killer.sh/slack) for scenario discussions
[Support](https://killer.sh/support) for session/account issues

##### Usage

You're only allowed to use your environment for the purpose of exam preparation and question solving. You agree not to perform intentional harmful or exploitative activity against killer.sh or others.

##### Checklist

If you experience any kind of issues please make sure all points here are complied with:

- **Browser**: only latest Chrome and latest Firefox are supported
- **Extensions**: disable ALL extensions/plugins and run in private mode
- **VPN/Proxy**: don't use a VPN/Proxy
- **Internet**: use a stable internet connection, with low usage by others
- **Tips**: Make sure to read the [**Tips**](https://killer.sh/attendee/d288594a-07b8-40f3-9adf-1eb238dae8bb/tips)

##### **Reote Desktop**

In June 2022 the Exam UI changed from a Remote Terminal to a Remote Desktop (Ubuntu XFCE). You're only allowed to use the Firefox browser inside the Remote Desktop to access the K8s Docs, not your local browser. Coming from OSX/Windows there will be changes in copy&paste. There is an [article](https://wuestkamp.medium.com/cks-cka-ckad-changed-terminal-to-remote-desktop-157a26c1d5e?source=friends_link&sk=3ae1ec2f0410cdb96bf49d2435761e1e) from us describing the new UI and the Linux Foundation released an [update](https://training.linuxfoundation.org/blog/update-on-certification-exam-proctoring-migration/?utm_source=lftraining&utm_medium=twitter&utm_campaign=blog). There is also a [playground](https://killercoda.com/kimwuestkamp/scenario/cks-cka-ckad-remote-desktop) which allows you to test a similar UI.

There are still differences between the real exams and the simulators, like:

- You'll need to use the PSI Secure Browser to access the real exams whereas you can use Chrome/Firefox to access the simulators
- You can only access certain allowed URLs in the Remote Desktop's Firefox of the real exams whereas there are no such restrictions in the simulators
- In the simulators you can use the top navigation Exam Interface to switch back to the old Remote Terminal in case of issues (let us know of any problems on [Support](https://killer.sh/support)), this isn't possible in the real exams

[return to overview](https://killer.sh/dashboard)

Activate Session





```bash
36h 231210/13:30 
```

You can access these instructions any time via "Exam Information".



##### **Remote Desktop**

In June 2022 the Exam UI changed from a Remote Terminal to a Remote Desktop (Ubuntu XFCE). You're only allowed to use the Firefox browser inside the Remote Desktop to access the K8s Docs, not your local browser. Coming from OSX/Windows there will be changes in copy&paste. There is an [article](https://wuestkamp.medium.com/cks-cka-ckad-changed-terminal-to-remote-desktop-157a26c1d5e?source=friends_link&sk=3ae1ec2f0410cdb96bf49d2435761e1e) from us describing the new UI and the Linux Foundation released an [update](https://training.linuxfoundation.org/blog/update-on-certification-exam-proctoring-migration/?utm_source=lftraining&utm_medium=twitter&utm_campaign=blog). There is also a [playground](https://killercoda.com/kimwuestkamp/scenario/cks-cka-ckad-remote-desktop) which allows you to test a similar UI.

There are still differences between the real exams and the simulators, like:

- You'll need to use the PSI Secure Browser to access the real exams whereas you can use Chrome/Firefox to access the simulators
- You can only access certain allowed URLs in the Remote Desktop's Firefox of the real exams whereas there are no such restrictions in the simulators
- In the simulators you can use the top navigation Exam Interface to switch back to the old Remote Terminal in case of issues (let us know of any problems on [Support](https://killer.sh/support)), this isn't possible in the real exams



##### Countdown / Timer

The 120 minutes countdown will start once the session is started. It will be shown on top left. The countdown is just an just an indicator for yourself and won't revoke access to your environment when finished.

##### Solutions & Score

When the countdown reaches 0 you'll be able to see the proposed solutions for each task and your score. You can also access these earlier by selecting "Exam Controls -> Answers & Score". But it's recommended to try solving by yourself at first.

##### 36hrs Access

You'll have access to your simulator environment during the next 36hrs. You'll always have access to the questions and solutions.

##### Browser reload or close

For the 36hrs your session will be kept running in the background. You can close the window or even use a different browser without losing changes.

##### Permissions

You have root permissions using sudo should you encounter any permission issues.

##### Keyboard issues (some keys won't work)

For OSX it could be your keyboard layout. Please go to Preferences->Keyboard->Input Sources. There search for English and then select "ABC" (or maybe called "Default"). Switching the layout should solve the input issue.
For Windows try to change your keyboard layout to a different English one.
For Ubuntu+Chrome for example users report keyboard issues, switch to Firefox or Chromium. Also open killer.sh in private browser mode.

ClustersThere are three Kubernetes clusters and 8 nodes in total:cluster1-controlplane1cluster1-node1cluster1-node2cluster2-controlplane1cluster2-node1cluster3-controlplane1cluster3-node1cluster3-node2RulesYou're only allowed to have one other browser tab open with:
https://kubernetes.io/docshttps://kubernetes.io/blog

##### Notepad

Use Application->Accessories->Mousepad to write down notes for yourself during the exam.

##### Difficulty

This simulator is more difficult than the real certification. We think this gives you a greater learning effect and also confidence to score in the real exam. Most of the simulator scenarios require good amount of work and can be considered "hard". In the real exam you will also face these "hard" scenarios, just less often. There are probably also fewer questions in the real exam.

##### Make sure

Only edit/modify/delete those resources you want to act on. In most scenarios there are existing resources which could be part of other questions. Just like in a real world cluster.

##### Content

All simulator sessions of the same type (CKS|CKA|CKAD) will have identical content/scenarios.

##### Slow or interrupted connection?

If you experience any kind of issues please make sure all points here are complied with:

- **Browser**: only latest Chrome and latest Firefox are supported
- **Ubuntu+Chrome**: users report keyboard issues, switch to Firefox or Chromium
- **Extensions**: disable ALL extensions/plugins and run in private mode
- **VPN/Proxy**: don't use a VPN/Proxy
- **Internet**: use a stable internet connection, with low usage by others

##### Help / Support

[FAQ](https://killer.sh/faq#session-runtime) for answers
[Slack](https://killer.sh/slack) for scenario discussions
[Support](https://killer.sh/support) for session/account issues







You can access these instructions any time via "Exam Information".



##### **Remote Desktop**

In June 2022 the Exam UI changed from a Remote Terminal to a Remote Desktop (Ubuntu XFCE). You're only allowed to use the Firefox browser inside the Remote Desktop to access the K8s Docs, not your local browser. Coming from OSX/Windows there will be changes in copy&paste. There is an [article](https://wuestkamp.medium.com/cks-cka-ckad-changed-terminal-to-remote-desktop-157a26c1d5e?source=friends_link&sk=3ae1ec2f0410cdb96bf49d2435761e1e) from us describing the new UI and the Linux Foundation released an [update](https://training.linuxfoundation.org/blog/update-on-certification-exam-proctoring-migration/?utm_source=lftraining&utm_medium=twitter&utm_campaign=blog). There is also a [playground](https://killercoda.com/kimwuestkamp/scenario/cks-cka-ckad-remote-desktop) which allows you to test a similar UI.

There are still differences between the real exams and the simulators, like:

- You'll need to use the PSI Secure Browser to access the real exams whereas you can use Chrome/Firefox to access the simulators
- You can only access certain allowed URLs in the Remote Desktop's Firefox of the real exams whereas there are no such restrictions in the simulators
- In the simulators you can use the top navigation Exam Interface to switch back to the old Remote Terminal in case of issues (let us know of any problems on [Support](https://killer.sh/support)), this isn't possible in the real exams



##### Countdown / Timer

The 120 minutes countdown will start once the session is started. It will be shown on top left. The countdown is just an just an indicator for yourself and won't revoke access to your environment when finished.

##### Solutions & Score

When the countdown reaches 0 you'll be able to see the proposed solutions for each task and your score. You can also access these earlier by selecting "Exam Controls -> Answers & Score". But it's recommended to try solving by yourself at first.

##### 36hrs Access

You'll have access to your simulator environment during the next 36hrs. You'll always have access to the questions and solutions.

##### Browser reload or close

For the 36hrs your session will be kept running in the background. You can close the window or even use a different browser without losing changes.

##### Permissions

You have root permissions using sudo should you encounter any permission issues.

##### Keyboard issues (some keys won't work)

For OSX it could be your keyboard layout. Please go to Preferences->Keyboard->Input Sources. There search for English and then select "ABC" (or maybe called "Default"). Switching the layout should solve the input issue.
For Windows try to change your keyboard layout to a different English one.
For Ubuntu+Chrome for example users report keyboard issues, switch to Firefox or Chromium. Also open killer.sh in private browser mode.

ClustersThere are three Kubernetes clusters and 8 nodes in total:

cluster1-controlplane1

cluster1-node1

cluster1-node2

cluster2-controlplane1

cluster2-node1

cluster3-controlplane1

cluster3-node1

cluster3-node2







RulesYou're only allowed to have one other browser tab open with:
https://kubernetes.io/docshttps://kubernetes.io/blog

##### Notepad

Use Application->Accessories->Mousepad to write down notes for yourself during the exam.

##### Difficulty

This simulator is more difficult than the real certification. We think this gives you a greater learning effect and also confidence to score in the real exam. Most of the simulator scenarios require good amount of work and can be considered "hard". In the real exam you will also face these "hard" scenarios, just less often. There are probably also fewer questions in the real exam.

##### Make sure

Only edit/modify/delete those resources you want to act on. In most scenarios there are existing resources which could be part of other questions. Just like in a real world cluster.

##### Content

All simulator sessions of the same type (CKS|CKA|CKAD) will have identical content/scenarios.

##### Slow or interrupted connection?

If you experience any kind of issues please make sure all points here are complied with:

- **Browser**: only latest Chrome and latest Firefox are supported
- **Ubuntu+Chrome**: users report keyboard issues, switch to Firefox or Chromium
- **Extensions**: disable ALL extensions/plugins and run in private mode
- **VPN/Proxy**: don't use a VPN/Proxy
- **Internet**: use a stable internet connection, with low usage by others

##### Help / Support

[FAQ](https://killer.sh/faq#session-runtime) for answers
[Slack](https://killer.sh/slack) for scenario discussions
[Support](https://killer.sh/support) for session/account issues





## 1 

```bash
k get nodes -o jsonpath='{.spoec.taints}'
```

Find the *Pod* with the highest priority in *Namespace* `management` and delete it.

```bash
k -n management get pod -oyaml

k -n management get pod -o yaml | grep -i priority -B 20
k -n management delete pod sprinter
```

````bash
controlplane $ k -n management get pod -o yaml | grep -i priority -B 20
    creationTimestamp: "2023-12-11T15:49:00Z"
    name: runner
    namespace: management
    resourceVersion: "1966"
    uid: 5ab6d141-58b8-4494-af56-e33a50257738
  spec:
    containers:
    - image: nginx:1.21.6-alpine
      imagePullPolicy: IfNotPresent
      name: pod
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-6v7w2
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: controlplane
    preemptionPolicy: PreemptLowerPriority
    priority: 200000000
    priorityClassName: level2
--
    creationTimestamp: "2023-12-11T15:49:00Z"
    name: sprinter
    namespace: management
    resourceVersion: "1976"
    uid: 25b52fe2-8623-4c74-b2be-ea38c08d977a
  spec:
    containers:
    - image: nginx:1.21.6-alpine
      imagePullPolicy: IfNotPresent
      name: pod
      resources: {}
      terminationMessagePath: /dev/termination-log
      terminationMessagePolicy: File
      volumeMounts:
      - mountPath: /var/run/secrets/kubernetes.io/serviceaccount
        name: kube-api-access-b7nxz
        readOnly: true
    dnsPolicy: ClusterFirst
    enableServiceLinks: true
    nodeName: controlplane
    preemptionPolicy: PreemptLowerPriority
    priority: 300000000
    priorityClassName: level3
````

## 2

Create Pod with higher priority

In *Namespace* `lion` there is one existing *Pod* which requests `1Gi` of memory resources.

That *Pod* has a specific priority because of its *PriorityClass*.

Create new *Pod* named `important` of image `nginx:1.21.6-alpine` in the same *Namespace*. It should request `1Gi` memory resources.

Assign a higher priority to the new *Pod* so it's scheduled instead of the existing one.

Both *Pods* won't fit in the cluster.



Check for existing *PriorityClasses*, and the the one of the existing *Pod*

```bash
k -n lion get pod
k -n lion get pod -oyaml | grep priority
k get priorityclass
```

Generate the *Pod* yaml:

```bash
k -n lion run important --image=nginx:1.21.6-alpine -oyaml --dry-run=client > pod.yaml
```

Then change it to and apply

```yml
apiVersion: v1
kind: Pod
metadata:
  labels:
    run: important
  name: important
  namespace: lion
spec:
  priorityClassName: level3
  containers:
  - image: nginx:1.21.6-alpine
    name: important
    resources:
      requests:
        memory: 1Gi
  dnsPolicy: ClusterFirst
  restartPolicy: Always
```

Now there should only be the new *Pod* running

```bash
k -n lion get pod
```

````bash
We can also see logs about this procedure like: Preempted by lion/important on node controlplane
````

```bash
k get events -A --sort-by='{.metadata.creationTimestamp}'
```

## 3

Control User permissions using RBAC

There is existing *Namespace* `applications` .

1. User `smoke` should be allowed to `create` and `delete` *Pods*, *Deployments* and *StatefulSets* in *Namespace* applications.
2. User `smoke` should have `view` permissions (like the permissions of the default *ClusterRole* named `view` ) in all *Namespaces* but not in `kube-system` .
3. Verify everything using `kubectl auth can-i`



Let's talk a little about RBAC resources:

A *ClusterRole*|*Role* defines a set of permissions and where it is available, in the whole cluster or just a single *Namespace*.

A *ClusterRoleBinding*|*RoleBinding* connects a set of permissions with an account and defines where it is applied, in the whole cluster or just a single *Namespace*.

Because of this there are 4 different RBAC combinations and 3 valid ones:

1. *Role* + *RoleBinding* (available in single *Namespace*, applied in single *Namespace*)
2. *ClusterRole* + *ClusterRoleBinding* (available cluster-wide, applied cluster-wide)
3. *ClusterRole* + *RoleBinding* (available cluster-wide, applied in single *Namespace*)
4. *Role* + *ClusterRoleBinding* (**NOT POSSIBLE**: available in single *Namespace*, applied cluster-wide)

```bash
# 1)
k -n applications create role -h
k -n applications create rolebinding -h

# 2)
# as of now it’s not possible to create deny-RBAC in K8s.
# so we allow for all other namespaces

# 3)
k auth can-i -h
k auth can-i create deployments --as smoke -n applications
```

````bash
# ⁣1) RBAC for Namespace applications
k -n applications create role smoke --verb create,delete --resource pods,deployments,sts
k -n applications create rolebinding smoke --role smoke --user smoke

# ⁣2) view permission in all Namespaces but not kube-system
# As of now it’s not possible to create deny-RBAC in K8s
# So we allow for all other Namespaces
k get ns # get all namespaces
k -n applications       create rolebinding smoke-view --clusterrole view --user smoke
k -n default            create rolebinding smoke-view --clusterrole view --user smoke
k -n kube-node-lease    create rolebinding smoke-view --clusterrole view --user smoke
k -n kube-public        create rolebinding smoke-view --clusterrole view --user smoke
# 3) Verify
# applications
k auth can-i create deployments --as smoke -n applications # YES
k auth can-i delete deployments --as smoke -n applications # YES
k auth can-i delete pods --as smoke -n applications # YES
k auth can-i delete sts --as smoke -n applications # YES
k auth can-i delete secrets --as smoke -n applications # NO
k auth can-i list deployments --as smoke -n applications # YES
k auth can-i list secrets --as smoke -n applications # NO
k auth can-i get secrets --as smoke -n applications # NO

# view in all namespaces but not kube-system
k auth can-i list pods --as smoke -n default # YES
k auth can-i list pods --as smoke -n applications # YES
k auth can-i list pods --as smoke -n kube-public # YES
k auth can-i list pods --as smoke -n kube-node-lease # YES
k auth can-i list pods --as smoke -n kube-system # NO
````

### 4

There are existing *Namespaces* `ns1` and `ns2` .

Create *ServiceAccount* `pipeline` in both *Namespaces*.

These *SAs* should be allowed to view almost everything in the whole cluster. You can use the default *ClusterRole* `view` for this.

These *SAs* should be allowed to create and delete *Deployments* in their *Namespace*.

Verify everything using `kubectl auth can-i` .



RBAC Info



Let's talk a little about RBAC resources:

A *ClusterRole*|*Role* defines a set of permissions and where it is available, in the whole cluster or just a single *Namespace*.

A *ClusterRoleBinding*|*RoleBinding* connects a set of permissions with an account and defines where it is applied, in the whole cluster or just a single *Namespace*.

Because of this there are 4 different RBAC combinations and 3 valid ones:

1. *Role* + *RoleBinding* (available in single *Namespace*, applied in single *Namespace*)
2. *ClusterRole* + *ClusterRoleBinding* (available cluster-wide, applied cluster-wide)
3. *ClusterRole* + *RoleBinding* (available cluster-wide, applied in single *Namespace*)
4. *Role* + *ClusterRoleBinding* (**NOT POSSIBLE**: available in single *Namespace*, applied cluster-wide)

```bash
k get clusterrole view # there is default one
k create clusterrole -h # examples
k create rolebinding -h # examples
k auth can-i delete deployments --as system:serviceaccount:ns1:pipeline -n ns1
```

```bash
# create SAs
k -n ns1 create sa pipeline
k -n ns2 create sa pipeline

# use ClusterRole view
k get clusterrole view # there is default one
k create clusterrolebinding pipeline-view --clusterrole view --serviceaccount ns1:pipeline --serviceaccount ns2:pipeline

# manage Deployments in both Namespaces
k create clusterrole -h # examples
k create clusterrole pipeline-deployment-manager --verb create,delete --resource deployments
# instead of one ClusterRole we could also create the same Role in both Namespaces

k -n ns1 create rolebinding pipeline-deployment-manager --clusterrole pipeline-deployment-manager --serviceaccount ns1:pipeline
k -n ns2 create rolebinding pipeline-deployment-manager --clusterrole pipeline-deployment-manager --serviceaccount ns2:pipeline
```

```bash
# namespace ns1 deployment manager
k auth can-i delete deployments --as system:serviceaccount:ns1:pipeline -n ns1 # YES
k auth can-i create deployments --as system:serviceaccount:ns1:pipeline -n ns1 # YES
k auth can-i update deployments --as system:serviceaccount:ns1:pipeline -n ns1 # NO
k auth can-i update deployments --as system:serviceaccount:ns1:pipeline -n default # NO

# namespace ns2 deployment manager
k auth can-i delete deployments --as system:serviceaccount:ns2:pipeline -n ns2 # YES
k auth can-i create deployments --as system:serviceaccount:ns2:pipeline -n ns2 # YES
k auth can-i update deployments --as system:serviceaccount:ns2:pipeline -n ns2 # NO
k auth can-i update deployments --as system:serviceaccount:ns2:pipeline -n default # NO

# cluster wide view role
k auth can-i list deployments --as system:serviceaccount:ns1:pipeline -n ns1 # YES
k auth can-i list deployments --as system:serviceaccount:ns1:pipeline -A # YES
k auth can-i list pods --as system:serviceaccount:ns1:pipeline -A # YES
k auth can-i list pods --as system:serviceaccount:ns2:pipeline -A # YES
k auth can-i list secrets --as system:serviceaccount:ns2:pipeline -A # NO (default view-role doesn't allow)
```





## 5

Create new NPs

There are existing *Pods* in *Namespace* `space1` and `space2` .

We need a new *NetworkPolicy* named `np` that restricts all *Pods* in *Namespace* `space1` to only have outgoing traffic to *Pods* in *Namespace* `space2` . Incoming traffic not affected.

We also need a new *NetworkPolicy* named `np` that restricts all *Pods* in *Namespace* `space2` to only have incoming traffic from *Pods* in *Namespace* `space1` . Outgoing traffic not affected.

The *NetworkPolicies* should still allow outgoing DNS traffic on port `53` TCP and UDP.



For learning you can check the [NetworkPolicy Editor](https://editor.cilium.io/)

The `namespaceSelector` from NPs works with *Namespace* labels, so first we check existing labels for *Namespaces*

```bash
k get ns --show-labels
```

Solution Part 1

Create the first NP:

```yml
cat << eof | kubectl apply -f - 
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: np
  namespace: space1
spec:
  podSelector: {}
  policyTypes:
  - Egress
  egress:
  - to:
     - namespaceSelector:
        matchLabels:
         kubernetes.io/metadata.name: space2
  - ports:
    - port: 53
      protocol: TCP
    - port: 53
      protocol: UDP
eof
```





Solution Part 2

Verify

Create the second NP:

```bash
cat << eof | kubectl apply -f - 
apiVersion: networking.k8s.io/v1
kind: NetworkPolicy
metadata:
  name: np
  namespace: space2
spec:
  podSelector: {}
  policyTypes:
  - Ingress
  ingress:
   - from:
     - namespaceSelector:
        matchLabels:
         kubernetes.io/metadata.name: space1
eof
```

```bash
# these should work
k -n space1 exec app1-0 -- curl -m 1 microservice1.space2.svc.cluster.local
k -n space1 exec app1-0 -- curl -m 1 microservice2.space2.svc.cluster.local
k -n space1 exec app1-0 -- nslookup tester.default.svc.cluster.local
k -n kube-system exec -it validate-checker-pod -- curl -m 1 app1.space1.svc.cluster.local

# these should not work
k -n space1 exec app1-0 -- curl -m 1 tester.default.svc.cluster.local
k -n kube-system exec -it validate-checker-pod -- curl -m 1 microservice1.space2.svc.cluster.local
k -n kube-system exec -it validate-checker-pod -- curl -m 1 microservice2.space2.svc.cluster.local
k -n default run nginx --image=nginx:1.21.5-alpine --restart=Never -i --rm  -- curl -m 1 microservice1.space2.svc.cluster.local
```

There are two existing *Deployments* in *Namespace* `world` which should be made accessible via an *Ingress*.

First: create ClusterIP *Services* for both *Deployments* for port `80` . The *Services* should have the same name as the *Deployments*.

```bash
k expose deploy -h
k -n world expose deploy europe --port 80
k -n world expose deploy asia --port 80
```





The Nginx Ingress Controller has been installed.

Create a new *Ingress* resource called `world` for domain name `world.universe.mine` . The domain points to the K8s Node IP via `/etc/hosts` .

The *Ingress* resource should have two routes pointing to the existing *Services*:

```
http://world.universe.mine:30080/europe/
```

and

```
http://world.universe.mine:30080/asia/
```

Check the NodePort *Service* for the Nginx Ingress Controller to see the ports

```plain
k -n ingress-nginx get svc ingress-nginx-controller
```

We can reach the NodePort *Service* via the K8s Node IP:

```plain
curl http://172.30.1.2:30080
```

And because of the entry in `/etc/hosts` we can call

```plain
curl http://world.universe.mine:30080
```





The *Ingress* resources needs to be created in the same *Namespace* as the applications.

Find out the ingressClassName with:

```plain
k get ingressclass
```

You can work with this template

```yml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: world
  namespace: world
  annotations:
    # this annotation removes the need for a trailing slash when calling urls
    # but it is not necessary for solving this scenario
    nginx.ingress.kubernetes.io/rewrite-target: /
spec:
  ingressClassName: nginx # k get ingressclass
  rules:
  - host: "world.universe.mine"
  ...
```

```bash
cat << eof | kubectl apply -f -
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: world
  namespace: world
  annotations:
    # this annotation removes the need for a trailing slash when calling urls
    # but it is not necessary for solving this scenario
    nginx.ingress.kubernetes.io/rewrite-target: /
spec:
  ingressClassName: nginx # k get ingressclass
  rules:
  - host: "world.universe.mine"
    http:
      paths:
      - path: /europe
        pathType: Prefix
        backend:
          service:
            name: europe
            port:
              number: 80
      - path: /asia
        pathType: Prefix
        backend:
          service:
            name: asia
            port:
              number: 80
eof
```



